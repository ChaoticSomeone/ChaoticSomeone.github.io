<!DOCTYPE html>
<html lang="de">
<head>
	<meta charset="UTF-8">
	<link rel="stylesheet" href="../stylesheet.css" />
	<style>
		input.slot{
			min-height: 2vh;
			font-size: 2vh;
			color: #eeeeee;
			background-color: #404040;
			border: #03DAC5 solid 2px;
		}
		#end{
            min-height: 2vh;
            font-size: 2vh;
            color: #eeeeee;
            background-color: #242424;
		}
	</style>
	<title>SEW Helper</title>
</head>
<body>
	<a href="../index.html">Zurück zur Startseite</a><br><br>
	<div class="code">
		<code>
			if <input class="slot" id="s1" maxlength="1" style="width:0.8vw;">1){<br>
			<span class="tab1"></span>print<input class="slot" id="s2" maxlength="1" style="width:0.8vw;">("Hello World")<input class="slot" id="s3" maxlength="1" style="width:0.8vw;"><br>
			}<br>
		</code>
	</div>
	<br><input type="button" id="end" value="Check" onclick="getInput()" style="border: #03DAC5 solid 2px; background-color: #404040;"><br>
	<p id="change"></p>


	<script type="text/javascript">
        var classInstances = document.querySelectorAll(".slot");
        var ids = Array.prototype.map.call(classInstances, function(element) {
            return element.id;
        });
        var values = [];
        function getInput(){
            ids.forEach(function (val){
                values.push(document.getElementById(val).value);
            });
        }
        function compareArrays(a, b){
            var longest = a.length > b.length ? a.length : b.length;
            var matches = 0;
            for (var i = 0; i < longest; i++){
                if (a[i] === b[i]){
                    matches++;
				}
			}
            return matches/longest * 100;
		}

		function main(){
			document.getElementById("end").addEventListener("click", function (){
                const correctAnswers = ["(", "f", ";"];
                var equality = Math.round((compareArrays(values, correctAnswers) + Number.EPSILON) * 100) / 100;
                document.getElementById("change").innerText = `${equality}% der Aufgabe wurde richtig gelöst!`;
                values = []
			});
		}
        window.onload = main;
	</script>
</body>
</html>